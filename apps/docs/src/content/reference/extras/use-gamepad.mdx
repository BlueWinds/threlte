---
order: 13
category: '@threlte/extras'
sourcePath: 'packages/extras/src/lib/hooks/useGamepad.ts'
name: useGamepad
type: 'hook'
---

A hook that will provide a [`currentWritable`](/docs/reference/core/utilities#currentwritable) reference to a [Gamepad](https://developer.mozilla.org/en-US/docs/Web/API/Gamepad) when connected.

```svelte
<script lang="ts">
  import { useGamepad } from '@threlte/extras'

  const { gamepad } = useGamepad()
</script>
```

One or more gamepads can be connected at any given time, so an optional `index` option can be provided.

```svelte
<script lang="ts">
  import { useGamepad } from '@threlte/extras'

  const { gamepad } = useGamepad({ index: 0 })
  const { gamepad: gamepad2 } = useGamepad({ index: 1 })
</script>
```

Another `currentWritable`, `connected` will provide connection status.

```svelte
<script lang="ts">
  import { useFrame } from '@threlte/core'
  import { useGamepad } from '@threlte/extras'

  const { gamepad, connected } = useGamepad()
  
  useFrame(() => {
    if (connected.current) {
      console.log(gamepad.current.axes)
    }
  })
</script>
```

If a gamepad is using the [standard web gamepad mapping](https://w3c.github.io/gamepad/#remapping), a more convienent `mapped` object with events can be used.

```svelte
<script lang="ts">
  import { useFrame } from '@threlte/core'
  import { useGamepad } from '@threlte/extras'

  const { gamepad, mapped, connected } = useGamepad()
  
  useFrame(() => {
    // Axes are mapped...
    console.log(mapped.leftStickX, mapped.leftStickY)

    // ...as well as buttons
    console.log(mapped.rightTrigger.value)
  })

  mapped.leftTrigger.on('down', () => {
    console.log('Left trigger is down!')
  })
</script>
```

The mapped object re-maps the 17 standard gamepad buttons to:

* The four right cluster buttons: `clusterBottom`, `clusterRight`, `clusterLeft`, `clusterTop`
* The four top buttons: `leftBumper`, `rightBumper`, `leftTrigger`, `rightTrigger`
* The center buttons: `select`, `start`, `center`
* The joysticks: `leftStickButton`, `leftStickX`, `leftStickY`, `rightStickButton`, `rightStickX`, `rightStickY`,
* The directional pad: `directionalTop`, `directionalBottom`, `directionalLeft`, `directionalRight`

The available events for mapped buttons are `press`, `down`, `up`, `touch`, `touchstart` and `touchend`.

The gamepad will re-map on every frame by default, so if mapping is undesired it can be disabled.

```svelte
<script lang="ts">
  import { useGamepad } from '@threlte/extras'

  const { gamepad } = useGamepad({ mapping: 'none' })
</script>
```
