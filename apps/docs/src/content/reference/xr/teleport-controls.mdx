---
{
  category: '@threlte/xr',
  name: 'teleportControls',
  order: 3,
  type: 'plugin',
  componentSignature:
    {
      props:
        [
          {
            name: 'handedness',
            type: "'left' | 'right'",
            required: false,
            default: "'right'",
            description: 'The controller handedness that the teleport controls is linked to.'
          },
          {
            name: 'raycaster',
            type: "THREE.Raycaster",
            required: false,
            default: 'new THREE.Raycaster()',
            description: 'The raycaster used for teleportation.'
          },
          {
            name: 'maxDistance',
            type: "number",
            required: false,
            default: '20',
            description: "The maximum radial teleporting distance from the user's current origin, in meters."
          },
        ],
      events:
        [
          {
            name: 'teleport',
            payload: 'THREE.Vector3',
            description: 'Fired after a teleportation occurs with the new location as the payload.'
          },
        ],
    }
}
---

The `teleportControls` plugin creates teleportation controls similar to many native XR experiences: pressing the thumbstick forward on a controller will create a visible ray, and when the the thumbstick is released the user will be teleported to the end of the ray.

```svelte
<script>
  import { teleportControls } from '@threlte/xr'
  teleportControls()
</script>
```

Any mesh within this component and all child components can now be treated as a navigation mesh to which the user can teleport to.

To register a mesh with `teleportControls`, add a `teleportSurface` property.

```svelte
<T.Mesh teleportSurface>
  <T.CylinderGeometry args={[20, 0.01]} />
  <T.MeshStandardMaterial />
</T.Mesh>
```

This plugin can be composed with the `teleportControls` plugin to allow both teleporting and interaction.

```svelte
<script>
  import { pointerControls, teleportControls } from '@threlte/xr'
  pointerControls()
  teleportControls()
</script>
```

This will result in `pointerControls` taking over when pointing at a mesh with events, and `teleportControls` taking over otherwise.

<Example path="xr/teleport-controls" />
