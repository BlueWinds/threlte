---
category: Geometry
title: Psuedorandom Scenery
showInSidebar: false
---


This example explores several simple ways to automatically position objects in your scene. This is a great starting point if you want to procedurally generate terrain or other scenes. Taking these methods as a starting point, we hope you will be able to find the right approach for your project.

<Tip type="note">
  Manually placing objects is also a good enough approach in many projects. A hybrid approach involves
  starting out with a pseudorandom scene, and then saving all the object properties to create a static 
  Svelte file from it. This has the benefit of being more predictable.
</Tip>


## The naive implementation

A simple starting point is using a so-called [uniform distribution](https://en.wikipedia.org/wiki/Continuous_uniform_distribution). Using , every object is independently placed in the terrain with equal probability.
Starting with a simple plane, we use a couple of `{#each ... as ...}` blocks and `Math.random` to create a to pseudorandomly position the objects in the scene.

<Example path="geometry/psuedo-random-scenery/starting-with-random" />

## Preventing object overlap

The naive implementation suffers from a limitation: it does not prevent objects from overlapping. This means that we sometimes see some a tree growing from a rock, or two bushes growing into eachother.

In order to prevent this, we can ensure objects are well spaced by using [Poisson disk sampling](https://medium.com/@hemalatha.psna/implementation-of-poisson-disc-sampling-in-javascript-17665e406ce1). This algorithm allows us to guarantee a minimum distance between our objects.

<Example path="geometry/psuedo-random-scenery/poisson-disc-sampling" />

If you reduce the minimum distance to something smaller than your objects size then there will _look_ like there's collisions. For the bushes in this example, even a distance of 1 still looks good.

## Different object sizes

In many scenes this approach works well. However, sometimes we want different spacing for different objects: a large tree needs more space than a small bush. Below we again use Poisson disc sampling, but this time allowing for some variation spacing, depending on the object type.

<Example path="geometry/psuedo-random-scenery/adjusted-sampling" />

<Tip type="info">
  An important parameter to play with when generating scenes with this approach is the *window size*. 
  If you have a large difference in radius between your smallest and largest objects can impact the performance
  of the algorithm, and this parameter can mitigate this. You should play around with the parameter and find the
  right value for your usecase.
</Tip>
